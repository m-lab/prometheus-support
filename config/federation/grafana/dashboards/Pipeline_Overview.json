{
  "annotations": {
    "list": [
      {
        "builtIn": 1,
        "datasource": "-- Grafana --",
        "enable": false,
        "hide": true,
        "iconColor": "rgba(0, 211, 255, 1)",
        "name": "Annotations & Alerts",
        "type": "dashboard"
      }
    ]
  },
  "editable": true,
  "gnetId": null,
  "graphTooltip": 1,
  "id": 361,
  "iteration": 1620833099755,
  "links": [],
  "panels": [
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 0
      },
      "id": 92,
      "panels": [],
      "title": "Good/Bad Indicators",
      "type": "row"
    },
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 1
      },
      "id": 90,
      "panels": [],
      "title": "General",
      "type": "row"
    },
    {
      "aliasColors": {},
      "bars": true,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$PrometheusDS",
      "description": "",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 0,
        "y": 2
      },
      "hiddenSeries": false,
      "id": 63,
      "legend": {
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": false,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.5",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "expr": "bq_gardener_parse_time_age_days",
          "format": "time_series",
          "instant": true,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "{{datatype}}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Oldest Bigquery Parse Time",
      "tooltip": {
        "shared": false,
        "sort": 0,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "series",
        "name": null,
        "show": true,
        "values": [
          "total"
        ]
      },
      "yaxes": [
        {
          "$$hashKey": "object:574",
          "decimals": 1,
          "format": "none",
          "label": "Days",
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:575",
          "decimals": 0,
          "format": "short",
          "label": "",
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$Gardener2_DS",
      "description": "We may want to monitor this from the Gardener instance, and suspend operation if the cost exceeds some threshold.",
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 0,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 8,
        "y": 2
      },
      "hiddenSeries": false,
      "id": 59,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "links": [],
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.5",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "$$hashKey": "object:63",
          "alias": "/Cumulative/",
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "expr": "sum  by(version, datatype, query)(rate(query_cost_seconds_sum{}[1h])/rate(query_cost_seconds_count{}[1h]))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "Slot Time per Query {{datatype}} {{query}}",
          "refId": "A"
        },
        {
          "expr": "sum by(version, datatype, query)(increase(query_cost_seconds_sum{}[24h]))",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 1,
          "legendFormat": "Cumulative per Day {{datatype}} {{query}}",
          "refId": "B"
        }
      ],
      "thresholds": [
        {
          "$$hashKey": "object:98",
          "colorMode": "warning",
          "fill": true,
          "line": true,
          "op": "gt",
          "value": 2419200,
          "yaxis": "right"
        }
      ],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Gardener 2.0 Bigquery Costs",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:70",
          "decimals": null,
          "format": "s",
          "label": "Slot Time per Query",
          "logBase": 1,
          "max": "28800",
          "min": "0",
          "show": true
        },
        {
          "$$hashKey": "object:71",
          "decimals": null,
          "format": "s",
          "label": "Avg Slot Time per Day",
          "logBase": 1,
          "max": null,
          "min": "0",
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$Gardener2_DS",
      "description": "",
      "fieldConfig": {
        "defaults": {
          "custom": {}
        },
        "overrides": []
      },
      "fill": 0,
      "fillGradient": 0,
      "gridPos": {
        "h": 7,
        "w": 8,
        "x": 16,
        "y": 2
      },
      "hiddenSeries": false,
      "id": 61,
      "legend": {
        "avg": false,
        "current": false,
        "hideEmpty": false,
        "hideZero": true,
        "max": false,
        "min": false,
        "show": true,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.5",
      "pointradius": 2,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "$$hashKey": "object:482",
          "alias": "/Recent/",
          "linewidth": 5
        },
        {
          "$$hashKey": "object:490",
          "alias": "/Dedup/",
          "color": "#3274D9"
        },
        {
          "$$hashKey": "object:500",
          "alias": "/4 weeks/",
          "dashes": true,
          "linewidth": 3
        },
        {
          "$$hashKey": "object:511",
          "alias": "/Join/",
          "color": "#A352CC"
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": false,
      "targets": [
        {
          "expr": "sum by(version, query)(increase(query_cost_seconds_sum{}[24h]))",
          "hide": false,
          "interval": "",
          "intervalFactor": 10,
          "legendFormat": "Recent {{version}} {{query}}",
          "refId": "B"
        },
        {
          "expr": "sum by(version, query)(increase(query_cost_seconds_sum{}[24h]  offset 28d))",
          "hide": false,
          "interval": "",
          "intervalFactor": 10,
          "legendFormat": "4 weeks ago {{version}} {{query}}",
          "refId": "C"
        },
        {
          "expr": "sum by(query)(increase(query_cost_seconds_sum{}[24h]  offset 56d))",
          "hide": false,
          "interval": "",
          "intervalFactor": 10,
          "legendFormat": "8 weeks ago {{query}}",
          "refId": "A"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Weekly query slot-time",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:289",
          "format": "s",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        },
        {
          "$$hashKey": "object:290",
          "format": "short",
          "label": null,
          "logBase": 1,
          "max": null,
          "min": null,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": false,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 9
      },
      "id": 67,
      "panels": [],
      "title": "Uptime",
      "type": "row"
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$LegacyDS",
      "description": "Uptimes for V2 Gardener and Parsers.",
      "editable": false,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 1,
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 0,
        "y": 10
      },
      "hiddenSeries": false,
      "id": 49,
      "interval": "",
      "isNew": false,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "hideEmpty": false,
        "hideZero": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.5",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "$$hashKey": "object:750",
          "alias": "/instance count/",
          "fill": 0,
          "yaxis": 2
        },
        {
          "$$hashKey": "object:751",
          "alias": "/Gardener/",
          "linewidth": 2,
          "steppedLine": false
        },
        {
          "$$hashKey": "object:752",
          "alias": "/Git Commit/",
          "fill": 0,
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": true,
      "targets": [
        {
          "expr": "avg by(run, pod_template_hash)(time()-process_start_time_seconds{container=~\"etl-gardener\"})",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "{{run}} {{pod_template_hash}}",
          "refId": "A",
          "step": 20
        },
        {
          "expr": "sum by(container, value)(etl_commit_hash{})",
          "interval": "",
          "legendFormat": "Git Hash {{container}} = {{value}}",
          "refId": "B"
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Gardeners (one per datatype) ",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "format": "",
        "logBase": 0,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "$$hashKey": "object:777",
          "format": "dtdurations",
          "logBase": 10,
          "min": 60,
          "show": true
        },
        {
          "$$hashKey": "object:778",
          "decimals": null,
          "format": "short",
          "logBase": 1,
          "max": "20",
          "min": 0,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$PrometheusDS",
      "description": "Average Parser Version Uptime",
      "editable": false,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 1,
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 8,
        "y": 10
      },
      "hiddenSeries": false,
      "id": 52,
      "interval": "",
      "isNew": false,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "hideEmpty": false,
        "hideZero": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.5",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "/Max/",
          "fill": 0
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": true,
      "targets": [
        {
          "expr": "avg by(version, service)(time()-process_start_time_seconds{version!=\"\"})",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "Avg {{service}} {{version}}",
          "refId": "B",
          "step": 20
        },
        {
          "expr": "max by(version, service)(time()-process_start_time_seconds{version!=\"\"})",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "Max {{service}} {{version}}",
          "refId": "C",
          "step": 20
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Parsers / Annotators",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "format": "",
        "logBase": 0,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "decimals": 0,
          "format": "dtdurations",
          "logBase": 10,
          "max": null,
          "min": "360",
          "show": true
        },
        {
          "decimals": null,
          "format": "short",
          "logBase": 1,
          "max": "20",
          "min": 0,
          "show": false
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "aliasColors": {},
      "bars": false,
      "dashLength": 10,
      "dashes": false,
      "datasource": "$Gardener2_DS",
      "description": "Uptimes for V2 Gardener and Parsers.",
      "editable": false,
      "error": false,
      "fieldConfig": {
        "defaults": {
          "custom": {},
          "links": []
        },
        "overrides": []
      },
      "fill": 1,
      "fillGradient": 1,
      "gridPos": {
        "h": 8,
        "w": 8,
        "x": 16,
        "y": 10
      },
      "hiddenSeries": false,
      "id": 48,
      "interval": "",
      "isNew": false,
      "legend": {
        "alignAsTable": false,
        "avg": false,
        "current": false,
        "hideEmpty": false,
        "hideZero": false,
        "max": false,
        "min": false,
        "rightSide": false,
        "show": false,
        "total": false,
        "values": false
      },
      "lines": true,
      "linewidth": 1,
      "nullPointMode": "null",
      "options": {
        "alertThreshold": true
      },
      "percentage": false,
      "pluginVersion": "7.3.5",
      "pointradius": 5,
      "points": false,
      "renderer": "flot",
      "seriesOverrides": [
        {
          "alias": "/Gardener Instances/",
          "color": "#37872D",
          "fill": 0,
          "yaxis": 2
        },
        {
          "alias": "/Gardener/",
          "linewidth": 2
        },
        {
          "alias": "/Parser Instances/",
          "color": "#8F3BB8",
          "fill": 0,
          "yaxis": 2
        }
      ],
      "spaceLength": 10,
      "stack": false,
      "steppedLine": true,
      "targets": [
        {
          "expr": "avg by(run, pod_template_hash)(time()-process_start_time_seconds{container=~\"etl-.*\"})",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "{{run}} {{pod_template_hash}}",
          "refId": "A",
          "step": 20
        },
        {
          "expr": "avg by(run, container, pod_template_hash)(time()-process_start_time_seconds{container=~\"etl-parser\"})",
          "format": "time_series",
          "hide": true,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "Avg {{run}} {{pod_template_hash}}",
          "refId": "C",
          "step": 20
        },
        {
          "expr": "count by(container, pod_template_hash, value)(etl_commit_hash{container=~\"etl-parser.*\"})",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "Parser Instances {{pod_template_hash}} - Git: {{value}} ",
          "refId": "D",
          "step": 20
        },
        {
          "expr": "count by(run, pod_template_hash)(process_start_time_seconds{container=~\"etl-gardener.*\"})",
          "format": "time_series",
          "hide": false,
          "interval": "",
          "intervalFactor": 2,
          "legendFormat": "Gardener Instances {{pod_template_hash}}",
          "refId": "B",
          "step": 20
        }
      ],
      "thresholds": [],
      "timeFrom": null,
      "timeRegions": [],
      "timeShift": null,
      "title": "Gardener V2 and K8S Parser Uptime",
      "tooltip": {
        "shared": true,
        "sort": 2,
        "value_type": "individual"
      },
      "type": "graph",
      "xaxis": {
        "buckets": null,
        "format": "",
        "logBase": 0,
        "mode": "time",
        "name": null,
        "show": true,
        "values": []
      },
      "yaxes": [
        {
          "format": "dtdurations",
          "logBase": 10,
          "min": 60,
          "show": true
        },
        {
          "decimals": 0,
          "format": "short",
          "label": "Instances",
          "logBase": 1,
          "max": "5",
          "min": 0,
          "show": true
        }
      ],
      "yaxis": {
        "align": false,
        "alignLevel": null
      }
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 18
      },
      "id": 65,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "description": "Task dates of the most recent updates to each task state.\n\nNOTE: In sandbox, we now process only a small subset of the requests, to get high throughput and test across the full date range quickly.  Cycle time is less than a day for sandbox, compared with one or two weeks for production.",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 10
          },
          "hiddenSeries": false,
          "id": 54,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "1000*quantile_over_time(0.8, gardener_state_date{datatype=~\"$datatypes\", state=~\"$states2\"}[5m])",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{datatype}} {{state}}",
              "refId": "C"
            },
            {
              "expr": "1000*quantile_over_time(0.8, gardener_state_date{state=~\"$states2\"}[5m])",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{datatype}} {{state}}",
              "refId": "E"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "V2 Task Date of Recent State Updates",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:385",
              "decimals": null,
              "format": "dateTimeAsIso",
              "label": "State update for task date",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:386",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "description": "",
          "editable": false,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 10
          },
          "hiddenSeries": false,
          "id": 53,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:1124",
              "alias": "/Average Ram etl-parser/",
              "color": "#8F3BB8",
              "linewidth": 3
            },
            {
              "$$hashKey": "object:1125",
              "alias": "/Instance Ram etl-parser/",
              "color": "rgb(85, 57, 89)"
            },
            {
              "$$hashKey": "object:1314",
              "alias": "/Instance Ram/",
              "hideTooltip": true
            },
            {
              "$$hashKey": "object:1321",
              "alias": "/gardener/",
              "color": "#37872D"
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(container, instance) (process_resident_memory_bytes{container=~\"etl-.*\"})",
              "format": "time_series",
              "hide": false,
              "interval": "60s",
              "intervalFactor": 1,
              "legendFormat": "Instance Ram {{container}} - {{instance}}",
              "refId": "A",
              "step": 60
            },
            {
              "expr": "avg by(container, pod_template_hash) (process_resident_memory_bytes{container=~\"etl-.*|stats.*\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Average Ram {{container}} - {{pod_template_hash}}",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Parsers - Process Resident Memory",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "format": "",
            "logBase": 0,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1140",
              "format": "decbytes",
              "logBase": 10,
              "show": true
            },
            {
              "$$hashKey": "object:1141",
              "decimals": 0,
              "format": "short",
              "logBase": 1,
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "description": "",
          "editable": false,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 10
          },
          "hiddenSeries": false,
          "id": 57,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:219",
              "alias": "/Average/",
              "color": "#65c5db",
              "linewidth": 3
            },
            {
              "$$hashKey": "object:220",
              "alias": "Num CPU",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by (instance)(rate(process_cpu_seconds_total{container=\"etl-parser\"}[2m])/etl_num_cpu{container=\"etl-parser\"})",
              "format": "time_series",
              "interval": "60s",
              "intervalFactor": 1,
              "legendFormat": "{{instance}}",
              "refId": "A",
              "step": 60
            },
            {
              "expr": "avg by (pod_template_hash)(rate(process_cpu_seconds_total{container=\"etl-parser\"}[10m])/etl_num_cpu)",
              "format": "time_series",
              "interval": "60s",
              "intervalFactor": 1,
              "legendFormat": "Average {{pod_template_hash}}",
              "refId": "B",
              "step": 60
            },
            {
              "expr": "avg by (pod_template_hash)(etl_num_cpu{container=\"etl-parser\"})",
              "format": "time_series",
              "interval": "60s",
              "intervalFactor": 1,
              "legendFormat": "Num CPU",
              "refId": "C",
              "step": 60
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Parser Utilization",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "format": "",
            "logBase": 0,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:235",
              "decimals": null,
              "format": "percentunit",
              "logBase": 1,
              "max": 1,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:236",
              "decimals": null,
              "format": "short",
              "logBase": 1,
              "max": "20",
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "description": "Not clear why there is a small background failure rate.  Probably should investigate.\n\nTODO - separate GCS read and write error metrics",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 73,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [
            {
              "title": "Parser logs",
              "url": "https://console.cloud.google.com/kubernetes/deployment/us-central1/data-processing/default/etl-parser/logs?project=$project"
            }
          ],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:341",
              "alias": "/Files/",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "60 * sum by (kind, table)(rate(etl_backend_failure_count[10m]))",
              "interval": "",
              "legendFormat": "{{table}} Failures/Min {{kind}}",
              "refId": "A"
            },
            {
              "expr": "1000*(sum by (table)(rate(etl_backend_failure_count{kind=\"googleapi.Error\"}[30m])) OR vector(0))/(sum by( table)(rate(etl_test_file_size_bytes_count{}[30m])) OR vector(1))",
              "interval": "",
              "legendFormat": "{{table}} Failures Per Thousand Files",
              "refId": "B"
            }
          ],
          "thresholds": [
            {
              "$$hashKey": "object:2361",
              "colorMode": "warning",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 1,
              "yaxis": "left"
            },
            {
              "$$hashKey": "object:2367",
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 10,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "GCS JSON Write Failures",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1996",
              "decimals": 0,
              "format": "short",
              "label": "Failures/Minute",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:1997",
              "format": "short",
              "label": "Failures/Thousand Files",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "description": "",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 83,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(table)(rate(etl_test_file_size_bytes_sum{}[30m]))",
              "interval": "",
              "legendFormat": "Bytes/Sec {{table}}",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Processing Rate",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:115",
              "format": "Bps",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:116",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 17
          },
          "hiddenSeries": false,
          "id": 87,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": true,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "histogram_quantile(0.5,sum by(le, table)(rate(etl_test_file_size_bytes_bucket{}[1h])))",
              "hide": false,
              "interval": "",
              "legendFormat": "Bytes/File {{table}}",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Median Filesize",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:115",
              "format": "decbytes",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:116",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "2.0 Pipeline",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 19
      },
      "id": 76,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$LegacyDS",
          "description": "Task dates of the most recent updates to each task state.\n\nNOTE: In sandbox, we now process only a small subset of the requests, to get high throughput and test across the full date range quickly.  Cycle time is less than a day for sandbox, compared with one or two weeks for production.",
          "fieldConfig": {
            "defaults": {
              "custom": {},
              "links": []
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 44,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "1000*quantile_over_time(0.2, gardener_state_date{state=~\"$states\"}[20m])",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 1,
              "legendFormat": "{{deployment}} {{state}}",
              "refId": "D"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Task Date of Recent State Updates",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1834",
              "decimals": null,
              "format": "dateTimeAsIso",
              "label": "State update for task date",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:1835",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "",
          "editable": false,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 2,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:106",
              "alias": "/Instances/",
              "color": "#6ed0e0",
              "fill": 0,
              "linewidth": 4,
              "yaxis": 2
            },
            {
              "$$hashKey": "object:108",
              "alias": "/inst .*/",
              "color": "rgba(163, 163, 163, 0.55)",
              "fill": 0
            },
            {
              "$$hashKey": "object:921",
              "alias": "/Average: etl-/",
              "color": "#8F3BB8",
              "linewidth": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(instance) (process_resident_memory_bytes{service=~\"etl-batch-parser\"})",
              "format": "time_series",
              "hide": false,
              "interval": "60s",
              "intervalFactor": 1,
              "legendFormat": "inst {{instance}}",
              "refId": "A",
              "step": 60
            },
            {
              "expr": "avg by(service,version) (process_resident_memory_bytes{service=~\"etl-batch-parser\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Average: {{service}}:{{version}}",
              "refId": "C"
            },
            {
              "expr": "count by(service,version) (process_start_time_seconds{service=~\"etl-batch-parser\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Instances: {{service}}:{{version}}",
              "refId": "B"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Parsers - Process Resident Memory",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "format": "",
            "logBase": 0,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:139",
              "format": "decbytes",
              "logBase": 1,
              "max": "10000000000",
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:140",
              "decimals": 0,
              "format": "short",
              "logBase": 1,
              "max": "15",
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "editable": false,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 16,
            "y": 11
          },
          "hiddenSeries": false,
          "id": 4,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [
            {
              "targetBlank": true,
              "title": "Parser Status Page",
              "url": "https://etl-batch-parser-dot-${project}.appspot.com/"
            },
            {
              "targetBlank": true,
              "title": "Parser Logs",
              "url": "https://console.cloud.google.com/logs/viewer?project=${project}&interval=PT6H&resource=gae_app%2Fmodule_id%2Fetl-batch-parser&logName=projects%2F${project}%2Flogs%2Fappengine.googleapis.com%252Fstdout&logName=projects%2F${project}%2Flogs%2Fappengine.googleapis.com%252Fstderr&logName=projects%2F${project}%2Flogs%2Fappengine.googleapis.com%252Fnginx.request&advancedFilter=resource.type%3D%22gae_app%22%0Aresource.labels.module_id%3D%22etl-batch-parser%22"
            }
          ],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:358",
              "alias": "/Instance Count/",
              "color": "#6ed0e0",
              "linewidth": 4,
              "yaxis": 2
            },
            {
              "$$hashKey": "object:359",
              "alias": "/Average/",
              "color": "#7eb26d",
              "linewidth": 2
            },
            {
              "$$hashKey": "object:360",
              "alias": "/Instance CPU/",
              "color": "rgba(115, 115, 115, 0.55)",
              "fill": 0
            },
            {
              "$$hashKey": "object:361",
              "alias": "/Num CPU/",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "rate(process_cpu_seconds_total{service=~\"etl-.*\"}[2m])/etl_num_cpu ",
              "format": "time_series",
              "interval": "60s",
              "intervalFactor": 5,
              "legendFormat": "Instance CPU {{instance}}",
              "refId": "A",
              "step": 60
            },
            {
              "expr": "avg(rate(process_cpu_seconds_total{service=~\"etl-.*\"}[5m])/etl_num_cpu)",
              "format": "time_series",
              "interval": "60s",
              "intervalFactor": 4,
              "legendFormat": "Average Parser CPU",
              "refId": "C",
              "step": 60
            },
            {
              "expr": "count by(service) (process_start_time_seconds{service=~\"etl-.*\"})",
              "format": "time_series",
              "hide": false,
              "interval": "60s",
              "intervalFactor": 1,
              "legendFormat": "Instance Count",
              "refId": "B"
            },
            {
              "expr": "avg by (version)(etl_num_cpu)",
              "interval": "",
              "intervalFactor": 10,
              "legendFormat": "Num CPU",
              "refId": "D"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Parser CPU - Per-instance & Avg",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "format": "",
            "logBase": 0,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:394",
              "decimals": null,
              "format": "percentunit",
              "label": "CPU %",
              "logBase": 1,
              "max": "1",
              "min": "0",
              "show": true
            },
            {
              "$$hashKey": "object:395",
              "decimals": 0,
              "format": "short",
              "label": "Instance Count / Num CPU",
              "logBase": 1,
              "max": null,
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 18
          },
          "hiddenSeries": false,
          "id": 74,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by (kind, table)(60*rate(etl_backend_failure_count[10m]))",
              "interval": "",
              "legendFormat": "",
              "refId": "A"
            }
          ],
          "thresholds": [
            {
              "$$hashKey": "object:2272",
              "colorMode": "warning",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 50,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Backend Failure Rate",
          "tooltip": {
            "shared": true,
            "sort": 0,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1996",
              "format": "short",
              "label": "Failures/Minute",
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:1997",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 18
          },
          "hiddenSeries": false,
          "id": 86,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(table)(rate(etl_test_file_size_bytes_sum{}[30m]))",
              "interval": "",
              "legendFormat": "Bytes/Sec {{table}}",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Processing Rate",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:115",
              "format": "Bps",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:116",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 18
          },
          "hiddenSeries": false,
          "id": 85,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "histogram_quantile(0.5,sum by(le, table)(rate(etl_test_file_size_bytes_bucket{}[10m])))",
              "hide": false,
              "interval": "",
              "intervalFactor": 10,
              "legendFormat": "Bytes/File {{table}}",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Median Filesize",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:115",
              "format": "decbytes",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            },
            {
              "$$hashKey": "object:116",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Pipeline",
      "type": "row"
    },
    {
      "collapsed": true,
      "datasource": null,
      "gridPos": {
        "h": 1,
        "w": 24,
        "x": 0,
        "y": 20
      },
      "id": 69,
      "panels": [
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "These are the per second request rates to the Annotation Service.",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 0,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 36,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:408",
              "alias": "/Uptime:/",
              "yaxis": 2
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(service, test_type) (rate(etl_annotator_Annotation_Time_Summary_count{service=~\"etl-.*\"}[1h]))",
              "format": "time_series",
              "hide": true,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Requests:  {{test_type}}",
              "refId": "A"
            },
            {
              "expr": "sum by(source, service)(rate(etl_annotator_Error_Count{service=~\"etl-.*\"}[1h]))",
              "format": "time_series",
              "hide": true,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Errors: {{source}}",
              "refId": "B"
            },
            {
              "expr": "avg by(service, version)(time()-process_start_time_seconds{service=~\"annotator\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Uptime: {{service}} {{version}}",
              "refId": "C"
            },
            {
              "expr": "sum by (type, detail)(rate(annotator_latency_hist_usec_count{service=\"annotator\"}[1h]))",
              "hide": false,
              "interval": "",
              "legendFormat": "Requests: {{type}} {{detail}}",
              "refId": "D"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Uptime and Incoming Request Rates",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:415",
              "format": "reqps",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": "1",
              "show": true
            },
            {
              "$$hashKey": "object:416",
              "format": "s",
              "label": null,
              "logBase": 10,
              "max": null,
              "min": null,
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "Ripples in the various metrics likely reflect oscillations in the different queues feeding the ETL pipelines.  The queues slow down as they empty, and push faster when refilled.  This changes the mix of requests for different data types.  Since the different parsers handle annotation differently, this changes the load on the annotator.\n\nWe expect to see bursts of \"reject (loading)\" when a new dataset is requested.  However, we DON'T want to see reject (cache full).  These might mean that gardener is misbehaving, or that the dataset cache is broken in some way.\n\nEarly (<2013) NDTTests trigger a burst of \"missing annotations for client IP\". Not clear why.\n \nWe are sometimes seeing long bursts of \"Invalid IP\".  This requires more investigation - likely a problem with the raw data.",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 1,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 8,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 71,
          "legend": {
            "avg": false,
            "current": false,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(test_type) (rate(etl_annotator_Annotation_Time_Summary_count{}[1h]))",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Requests {{test_type}}",
              "metric": "annotator_Request_Response_Time_Summary_sum",
              "refId": "B",
              "step": 20
            },
            {
              "expr": "sum by(source)(rate(etl_annotator_Error_Count{service=~\"etl-.*\"}[1h]))",
              "hide": false,
              "interval": "",
              "legendFormat": "Errors: {{source}}",
              "refId": "C"
            }
          ],
          "thresholds": [],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Annotation Service Request Rate Per Datatype / Result",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "transparent": true,
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:851",
              "decimals": null,
              "format": "short",
              "label": "Requests / Second",
              "logBase": 10,
              "max": null,
              "min": "1",
              "show": true
            },
            {
              "$$hashKey": "object:852",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$Gardener2_DS",
          "description": "v2 API requests and error rate from K8S parsers.\n\nNOTE:  These should be zero, since the 2.0 pipeline should get annotations from uuid-annotator.  However, we haven't removed the annotator calls yet.",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 8,
            "w": 8,
            "x": 16,
            "y": 12
          },
          "hiddenSeries": false,
          "id": 51,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": false,
            "hideZero": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 2,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:1408",
              "alias": "/Error Rate/",
              "yaxis": 2
            },
            {
              "$$hashKey": "object:1409",
              "alias": "/High/",
              "color": "#F2495C",
              "fill": 1,
              "fillGradient": 3,
              "zindex": 3
            },
            {
              "$$hashKey": "object:1410",
              "alias": "/Request Rate/",
              "fill": 1
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "sum by(test_type) (rate(etl_annotator_Annotation_Time_Summary_count{container=\"etl-parser\"}[1h]))",
              "hide": false,
              "interval": "",
              "legendFormat": "V2 Requests/sec {{test_type}}",
              "refId": "D"
            },
            {
              "expr": "(sum(rate(annotator_external_latency_hist_msec_count{container=\"etl-parser\", detail!=\"success\"}[10m])) or vector(0)) / (sum(rate(annotator_external_latency_hist_msec_count{container=\"etl-parser\"}[10m])) or vector(1)) > .01",
              "interval": "",
              "legendFormat": "High Error Rate",
              "refId": "A"
            },
            {
              "expr": "(sum(rate(annotator_external_latency_hist_msec_count{container=\"etl-parser\", detail!=\"success\"}[10m])) or vector(0)) / (sum(rate(annotator_external_latency_hist_msec_count{container=\"etl-parser\"}[10m])) or vector(1))",
              "interval": "",
              "legendFormat": "Error Rate",
              "refId": "C"
            }
          ],
          "thresholds": [
            {
              "$$hashKey": "object:1463",
              "colorMode": "critical",
              "fill": false,
              "line": true,
              "op": "gt",
              "value": 0.01,
              "yaxis": "right"
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "K8S Parser V2 Requests and Error Rate",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:1435",
              "format": "short",
              "label": "V2 Requests/Sec",
              "logBase": 10,
              "max": null,
              "min": "5",
              "show": true
            },
            {
              "$$hashKey": "object:1436",
              "format": "percentunit",
              "label": "V2 Error Rate",
              "logBase": 1,
              "max": "1",
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "The annotation service runs in AppEngine Flex.  The term \"legacy\" refers to the legacy geolite1 maxmind datasets, NOT the legacy pipeline.\n\nRequest service time varies primarily on the number of IP addresses requested.  Requests of up to 5 are typically completed in about 100 usec.  Large requests of 400+ IPs typically take 2.5 msec.\n\nWhen there are large numbers of small requests, the worst case large request times spike, likely due to lock contention.  We might want to optimize this a bit better.\n\nRoughly 50% of the time is spent marshallling and unmarshallling.",
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 0,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 78,
          "legend": {
            "avg": false,
            "current": false,
            "max": false,
            "min": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": false
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "histogram_quantile(0.5, sum(rate(annotator_latency_hist_usec_bucket[30m])) by (version, le, type, detail))",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 10,
              "legendFormat": "Median {{type}} {{detail}}",
              "refId": "D"
            },
            {
              "expr": "topk(1, histogram_quantile(0.99, sum(rate(annotator_latency_hist_usec_bucket[30m])) by (version, le, type, detail)))",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 10,
              "legendFormat": "Worst 0.99 {{type}} {{detail}}",
              "refId": "E"
            },
            {
              "expr": "histogram_quantile(0.5, sum(rate(annotator_latency_hist_usec_bucket[30m])) by (version, le))",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 10,
              "legendFormat": "Median request {{version}}",
              "refId": "F"
            }
          ],
          "thresholds": [
            {
              "$$hashKey": "object:2865",
              "colorMode": "warning",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 100000,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Annotation Service Internal Latency",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "transparent": true,
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:2837",
              "decimals": null,
              "format": "s",
              "label": "Time",
              "logBase": 10,
              "max": null,
              "min": "20",
              "show": true
            },
            {
              "$$hashKey": "object:2838",
              "format": "short",
              "label": null,
              "logBase": 1,
              "max": null,
              "min": null,
              "show": false
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        },
        {
          "aliasColors": {},
          "bars": false,
          "dashLength": 10,
          "dashes": false,
          "datasource": "$PrometheusDS",
          "description": "These currently run on machines with 257GB available memory.",
          "editable": false,
          "error": false,
          "fieldConfig": {
            "defaults": {
              "custom": {}
            },
            "overrides": []
          },
          "fill": 0,
          "fillGradient": 0,
          "gridPos": {
            "h": 7,
            "w": 8,
            "x": 8,
            "y": 20
          },
          "hiddenSeries": false,
          "id": 88,
          "isNew": false,
          "legend": {
            "alignAsTable": false,
            "avg": false,
            "current": false,
            "hideEmpty": true,
            "hideZero": true,
            "max": false,
            "min": false,
            "rightSide": false,
            "show": false,
            "total": false,
            "values": false
          },
          "lines": true,
          "linewidth": 1,
          "links": [],
          "nullPointMode": "null",
          "options": {
            "alertThreshold": true
          },
          "percentage": false,
          "pluginVersion": "7.3.5",
          "pointradius": 5,
          "points": false,
          "renderer": "flot",
          "seriesOverrides": [
            {
              "$$hashKey": "object:914",
              "alias": "/Average: annotator/",
              "color": "#37872D",
              "linewidth": 2
            },
            {
              "$$hashKey": "object:1069",
              "alias": "/Instances:/",
              "color": "rgb(114, 115, 115)"
            }
          ],
          "spaceLength": 10,
          "stack": false,
          "steppedLine": false,
          "targets": [
            {
              "expr": "avg by(service,version) (process_resident_memory_bytes{service=~\"annotator.*\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Average: {{service}}:{{version}}",
              "refId": "C"
            },
            {
              "expr": "avg by(service,version, instance) (process_resident_memory_bytes{service=~\"annotator.*\"})",
              "format": "time_series",
              "hide": false,
              "interval": "",
              "intervalFactor": 2,
              "legendFormat": "Instances: {{service}}:{{version}}",
              "refId": "A"
            }
          ],
          "thresholds": [
            {
              "$$hashKey": "object:1024",
              "colorMode": "warning",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 240000000000,
              "yaxis": "left"
            },
            {
              "$$hashKey": "object:1030",
              "colorMode": "critical",
              "fill": true,
              "line": true,
              "op": "gt",
              "value": 257000000000,
              "yaxis": "left"
            }
          ],
          "timeFrom": null,
          "timeRegions": [],
          "timeShift": null,
          "title": "Annotation Service - Process Resident Memory",
          "tooltip": {
            "shared": true,
            "sort": 2,
            "value_type": "individual"
          },
          "type": "graph",
          "xaxis": {
            "buckets": null,
            "format": "",
            "logBase": 0,
            "mode": "time",
            "name": null,
            "show": true,
            "values": []
          },
          "yaxes": [
            {
              "$$hashKey": "object:139",
              "decimals": null,
              "format": "decbytes",
              "logBase": 1,
              "max": "300000000000",
              "min": "0",
              "show": true
            },
            {
              "$$hashKey": "object:140",
              "decimals": 0,
              "format": "short",
              "logBase": 1,
              "max": "15",
              "min": "0",
              "show": true
            }
          ],
          "yaxis": {
            "align": false,
            "alignLevel": null
          }
        }
      ],
      "title": "Annotator Stats",
      "type": "row"
    }
  ],
  "refresh": "5m",
  "schemaVersion": 26,
  "style": "dark",
  "tags": [],
  "templating": {
    "list": [
      {
        "allValue": null,
        "current": {
          "selected": false,
          "text": "mlab-oti",
          "value": "mlab-oti"
        },
        "error": null,
        "hide": 0,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "project",
        "options": [
          {
            "selected": true,
            "text": "mlab-oti",
            "value": "mlab-oti"
          },
          {
            "selected": false,
            "text": "mlab-staging",
            "value": "mlab-staging"
          },
          {
            "selected": false,
            "text": "mlab-sandbox",
            "value": "mlab-sandbox"
          }
        ],
        "query": "mlab-oti,mlab-staging,mlab-sandbox",
        "queryValue": "",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "allFormat": "",
        "allValue": null,
        "current": {
          "selected": false,
          "text": "10m",
          "value": "10m"
        },
        "error": null,
        "hide": 0,
        "includeAll": false,
        "label": "",
        "multi": false,
        "multiFormat": "",
        "name": "interval",
        "options": [
          {
            "selected": true,
            "text": "10m",
            "value": "10m"
          },
          {
            "selected": false,
            "text": "1h",
            "value": "1h"
          },
          {
            "selected": false,
            "text": "3h",
            "value": "3h"
          },
          {
            "selected": false,
            "text": "6h",
            "value": "6h"
          },
          {
            "selected": false,
            "text": "12h",
            "value": "12h"
          },
          {
            "selected": false,
            "text": "18h",
            "value": "18h"
          },
          {
            "selected": false,
            "text": "1d",
            "value": "1d"
          },
          {
            "selected": false,
            "text": "2d",
            "value": "2d"
          },
          {
            "selected": false,
            "text": "1w",
            "value": "1w"
          },
          {
            "selected": false,
            "text": "4w",
            "value": "4w"
          },
          {
            "selected": false,
            "text": "13w",
            "value": "13w"
          },
          {
            "selected": false,
            "text": "1y",
            "value": "1y"
          }
        ],
        "query": "10m,1h,3h,6h,12h,18h,1d,2d,1w,4w,13w,1y",
        "queryValue": "",
        "refresh": false,
        "regex": "",
        "skipUrlSync": false,
        "type": "custom"
      },
      {
        "current": {
          "selected": false,
          "text": "Prometheus (mlab-oti)",
          "value": "Prometheus (mlab-oti)"
        },
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": "",
        "multi": false,
        "name": "PrometheusDS",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "Prometheus \\($project\\)",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": "Data Proc (mlab-oti)",
          "value": "Data Proc (mlab-oti)"
        },
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": null,
        "multi": false,
        "name": "LegacyDS",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "Data Proc \\($project\\)",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "current": {
          "selected": false,
          "text": "Data Processing (mlab-oti)",
          "value": "Data Processing (mlab-oti)"
        },
        "error": null,
        "hide": 2,
        "includeAll": false,
        "label": "Gardener 2.0 Datasource",
        "multi": false,
        "name": "Gardener2_DS",
        "options": [],
        "query": "prometheus",
        "refresh": 1,
        "regex": "Data Processing \\($project\\)",
        "skipUrlSync": false,
        "type": "datasource"
      },
      {
        "allValue": null,
        "current": {
          "selected": false,
          "text": [
            "Finishing",
            "Processing"
          ],
          "value": [
            "Finishing",
            "Processing"
          ]
        },
        "datasource": "$LegacyDS",
        "definition": "label_values(gardener_state_date, state)",
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Gardener States",
        "multi": true,
        "name": "states",
        "options": [
          {
            "selected": false,
            "text": "All",
            "value": "$__all"
          },
          {
            "selected": false,
            "text": "Deduplicating",
            "value": "Deduplicating"
          },
          {
            "selected": false,
            "text": "Done",
            "value": "Done"
          },
          {
            "selected": true,
            "text": "Finishing",
            "value": "Finishing"
          },
          {
            "selected": true,
            "text": "Processing",
            "value": "Processing"
          },
          {
            "selected": false,
            "text": "Queuing",
            "value": "Queuing"
          },
          {
            "selected": false,
            "text": "Stabilizing",
            "value": "Stabilizing"
          }
        ],
        "query": "label_values(gardener_state_date, state)",
        "refresh": 0,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      },
      {
        "allValue": null,
        "current": {
          "selected": false,
          "text": [
            "complete",
            "failed"
          ],
          "value": [
            "complete",
            "failed"
          ]
        },
        "datasource": "$Gardener2_DS",
        "definition": "label_values(gardener_state_date, state)",
        "error": null,
        "hide": 0,
        "includeAll": true,
        "label": "Gardener 2.0 States",
        "multi": true,
        "name": "states2",
        "options": [
          {
            "selected": false,
            "text": "All",
            "value": "$__all"
          },
          {
            "selected": true,
            "text": "complete",
            "value": "complete"
          },
          {
            "selected": false,
            "text": "copying",
            "value": "copying"
          },
          {
            "selected": false,
            "text": "deduplicating",
            "value": "deduplicating"
          },
          {
            "selected": false,
            "text": "deleting",
            "value": "deleting"
          },
          {
            "selected": true,
            "text": "failed",
            "value": "failed"
          },
          {
            "selected": false,
            "text": "init",
            "value": "init"
          },
          {
            "selected": false,
            "text": "joining",
            "value": "joining"
          },
          {
            "selected": false,
            "text": "loading",
            "value": "loading"
          },
          {
            "selected": false,
            "text": "parsing",
            "value": "parsing"
          },
          {
            "selected": false,
            "text": "postProcessing",
            "value": "postProcessing"
          }
        ],
        "query": "label_values(gardener_state_date, state)",
        "refresh": 0,
        "regex": "",
        "skipUrlSync": false,
        "sort": 0,
        "tagValuesQuery": "",
        "tags": [],
        "tagsQuery": "",
        "type": "query",
        "useTags": false
      }
    ]
  },
  "time": {
    "from": "now-30d",
    "to": "now"
  },
  "timepicker": {
    "refresh_intervals": [
      "5s",
      "10s",
      "30s",
      "1m",
      "5m",
      "15m",
      "30m",
      "1h",
      "2h",
      "1d"
    ],
    "time_options": [
      "5m",
      "15m",
      "1h",
      "6h",
      "12h",
      "24h",
      "2d",
      "7d",
      "30d"
    ]
  },
  "timezone": "utc",
  "title": "Pipeline Overview",
  "uid": "UTgnK-jMz",
  "version": 1
}
